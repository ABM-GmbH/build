<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Why are the dll-path and hardcode-dll-paths properties useful?</title>
<link rel="stylesheet" href="../../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="../../index.html" title="Boost.Build User Manual">
<link rel="up" href="../faq.html" title="Chapter&#160;7.&#160;Frequently Asked Questions">
<link rel="prev" href="flags.html" title="How to change compilation flags for one file?">
<link rel="next" href="../recipies/site-config.html" title="Targets in site-config.jam">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../boost.png"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="flags.html"><img src="../../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../faq.html"><img src="../../../images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../images/home.png" alt="Home"></a><a accesskey="n" href="../recipies/site-config.html"><img src="../../../images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="bbv2.faq.dll-path"></a>
      Why are the <code class="literal">dll-path</code> and <code class="literal">hardcode-dll-paths
      </code> properties useful?
    </h2></div></div></div>
<div class="note">
<h3 class="title">Note</h3>
<p>
        This entry is specific to Unix systems.
      </p>
</div>
<p>
      Before answering the questions, let us recall a few points about shared
      libraries. Shared libraries can be used by several applications, or other
      libraries, without physically including the library in the application
      which can greatly decrease the total application size. It is also possible
      to upgrade a shared library when the application is already installed.
    </p>
<p>
      However, in order for application depending on shared libraries to be
      started the OS may need to find the shared library when the application is
      started. The dynamic linker will search in a system-defined list of paths,
      load the library and resolve the symbols. Which means that you should
      either change the system-defined list, given by the <code class="envar">LD_LIBRARY_PATH
      </code> environment variable, or install the libraries to a system
      location. This can be inconvenient when developing, since the libraries
      are not yet ready to be installed, and cluttering system paths may be
      undesirable. Luckily, on Unix there is another way.
    </p>
<p>
      An executable can include a list of additional library paths, which will
      be searched before system paths. This is excellent for development because
      the build system knows the paths to all libraries and can include them in
      the executables. That is done when the <code class="literal">hardcode-dll-paths
      </code> feature has the <code class="literal">true</code> value, which is the
      default. When the executables should be installed, the story is different.
    </p>
<p>
      Obviously, installed executable should not contain hardcoded paths to your
      development tree.  (The <code class="literal">install</code> rule explicitly disables the
      <code class="literal">hardcode-dll-paths</code> feature for that reason.) However,
      you can use the <code class="literal">dll-path</code> feature to add explicit paths
      manually. For example:
</p>
<pre class="programlisting">
install installed : application : &lt;dll-path&gt;/usr/lib/snake
                                  &lt;location&gt;/usr/bin ;
</pre>
<p>
      will allow the application to find libraries placed in the <code class="filename">
      /usr/lib/snake</code> directory.
    </p>
<p>
      If you install libraries to a nonstandard location and add an explicit
      path, you get more control over libraries which will be used. A library of
      the same name in a system location will not be inadvertently used. If you
      install libraries to a system location and do not add any paths, the
      system administrator will have more control. Each library can be
      individually upgraded, and all applications will use the new library.
    </p>
<p>
      Which approach is best depends on your situation. If the libraries are
      relatively standalone and can be used by third party applications, they
      should be installed in the system location. If you have lots of libraries
      which can be used only by your application, it makes sense to install them
      to a nonstandard directory and add an explicit path, like the example
      above shows. Please also note that guidelines for different systems differ
      in this respect. For example, the Debian GNU guidelines prohibit any
      additional search paths while Solaris guidelines suggest that they should
      always be used.
    </p>
</div>
<div class="copyright-footer"><p class="copyright">
      Copyright 2006, 2014 <a href="http://vladimirprus.com" target="_top">Vladimir
      Prus</a>. Distributed under the Boost Software License, Version 1.0.
      (See accompanying file <code class="filename">LICENSE_1_0.txt</code> or copy at 
      <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
    </p></div>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="flags.html"><img src="../../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../faq.html"><img src="../../../images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../images/home.png" alt="Home"></a><a accesskey="n" href="../recipies/site-config.html"><img src="../../../images/next.png" alt="Next"></a>
</div>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-2917240-2', 'auto');
      ga('send', 'pageview');

    </script>
</body>
</html>
